<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScienceLab</title>
  <link rel="shortcut icon" href="logo.ico" type="image/x-icon">
  <link rel="stylesheet" href="certo.css">

  <!-- Polyfill para suporte a ES6 em navegadores antigos -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

  <!-- MathJax para renderizar fórmulas matemáticas -->
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
</head>
<body>
  <!-- Conteúdo principal -->
  <div class="container">
    <h1>Calculadora de Fórmulas</h1>

    <!-- Navegação entre simuladores e "Quem Somos" -->
    <nav class="extra-navigation">
      <a href="../extras/quem-somos.html" class="extra-link">Quem Somos</a>
      <a href="../CapimCognition/templates/index.html" class="extra-link">CapimCognition</a> <!-- Corrigido aqui -->
    </nav>

    <!-- Navegação por abas das áreas científicas -->
    <nav class="tab-buttons">
      <button class="tab-button active" id="tab-quimica" onclick="showTab('quimica')">Fórmulas Químicas</button>
      <button class="tab-button" id="tab-fisica" onclick="showTab('fisica')">Fórmulas Físicas</button>
      <button class="tab-button" id="tab-matematica" onclick="showTab('matematica')">Fórmulas Matemáticas</button>
      <button class="tab-button" id="tab-matrizes" onclick="showTab('matrizes')">Operações de Matrizes</button>
    </nav>

    <!-- Seção de Matemática -->
    <section id="matematica-formulas" class="tab-content active">
      <h2>Matemática</h2>
      <div class="formula">
        <label for="formula_matematica">Selecione a fórmula:</label>
        <select id="formula_matematica" onchange="updateVariablesMatematica()">
          <option value="baskara">Fórmula de Bhaskara</option>
          <option value="espiral-arquimedes">Espiral de Arquimedes</option>
          <option value="area-circulo">Área do Círculo</option>
        </select>
      </div>
      <div class="variables">
        <div class="formula-display" id="matematica-formula-display"></div>
        <label for="variables_matematica">Preencha as variáveis:</label>
        <div id="variables-container_matematica"></div>
        <div id="instructions-matematica"></div>
      </div>
      <button onclick="calcularMatematica()">Calcular</button>
      <div id="resultado-matematica">Resultado: <span id="resultado-valor-matematica">--</span></div>
    </section>

    <!-- Seção de Química -->
    <section id="quimica-formulas" class="tab-content" style="display:none;">
      <h2>Química</h2>
      <div class="formula">
        <label for="formula">Selecione a fórmula:</label>
        <select id="formula" onchange="updateVariablesQuimica()">
          <option value="numero-mols">Número de mols</option>
          <option value="massa-molar">Massa Molar</option>
        </select>
      </div>
      <div class="variables">
        <div class="formula-display" id="quimica-formula-display"></div>
        <label for="variables">Preencha as variáveis:</label>
        <div id="variables-container"></div>
        <div id="instructions-quimica"></div>
      </div>
      <button onclick="calcularQuimica()">Calcular</button>
      <div id="resultado">Resultado: <span id="resultado-valor">--</span></div>
    </section>

    <!-- Seção de Física -->
    <section id="fisica-formulas" class="tab-content" style="display:none;">
      <h2>Física</h2>
      <div class="formula">
        <label for="formula_fisica">Selecione a fórmula:</label>
        <select id="formula_fisica" onchange="updateVariablesFisica()">
          <option value="velocidade">Velocidade Média</option>
          <option value="trabalho">Trabalho</option>
        </select>
      </div>
      <div class="variables">
        <div class="formula-display" id="fisica-formula-display"></div>
        <label for="variables_fisica">Preencha as variáveis:</label>
        <div id="variables-container_fisica"></div>
        <div id="instructions-fisica"></div>
      </div>
      <button onclick="calcularFisica()">Calcular</button>
      <div id="resultado-fisica">Resultado: <span id="resultado-valor-fisica">--</span></div>
    </section>

    <!-- Seção de Matrizes -->
    <section id="matrizes-formulas" class="tab-content" style="display:none;">
      <h2>Operações de Matrizes</h2>
      <div class="formula">
        <label for="formula_matriz">Selecione a operação:</label>
        <select id="formula_matriz" onchange="updateVariablesMatriz()">
          <option value="determinante">Determinante</option>
          <option value="inversa">Inversa</option>
        </select>
      </div>
      <div class="variables">
        <div id="variables-container_matriz"></div>
        <div id="instructions-matriz"></div>
      </div>
      <div id="calcular-container"></div>
      <div id="resultado-matriz">Resultado: <span id="resultado-valor-matriz">--</span></div>
    </section>

    <!-- Rodapé -->
    <footer>
      <div class="footer-content">
        <p>&copy; 2024 ScienceLab - Todos os direitos reservados</p>
      </div>
    </footer>
  </div>

  <!-- Scripts para as diferentes áreas -->
  <script src="showTab.js"></script>
  <script src="quimica.js"></script>
  <script src="fisica.js"></script>
  <script src="matematica.js"></script>
  <script src="matrizes.js"></script>
  <script src="instrucoes.js"></script>

  <script>
    // Reprocessa MathJax após qualquer atualização de fórmula
    function reprocessMathJax() {
      if (window.MathJax) {
        MathJax.typesetPromise();
      }
    }
  </script>
</body>
</html>
